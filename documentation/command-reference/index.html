<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Command Reference - Hamstercage</title><meta name=description content="Hamstercage commands take a number of options and parameters.
usage: hamstercage [-h] [-d DIRECTORY] [-f FILE] [-n HOSTNAME] [-r REPO] [-t TAG] [-v] {add,apply,diff,init,list,ls,remove,del,rm,save,tag} ... Manage the hamster cage. positional arguments: {add,apply,diff,init,list,ls,remove,del,rm,save,tag} sub-command help add add one or more files to the manifest apply apply files from repo to target diff print differences between target and repo init create a new manifest list (ls) list manifest entries remove (del, rm) remove one or more files from the manifest save save target files to repo tag manage tags in the manifest optional arguments: -h, --help show this help message and exit -d DIRECTORY, --directory DIRECTORY base directory of target files -f FILE, --file FILE manifest file to use -n HOSTNAME, --hostname HOSTNAME name of this host -r REPO, --repo REPO directory of file repo -t TAG, --tag TAG tags to apply/save -v, --verbose verbose output General Options Target Directory -d / --directory The directory where the managed files live, default /."><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Hamstercage","url":"https:\/\/hamstercage.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/hamstercage.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/hamstercage.io\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/hamstercage.io\/documentation\/command-reference\/","name":"Command reference"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":""},"headline":"Command Reference","description":"Hamstercage commands take a number of options and parameters.\nusage: hamstercage [-h] [-d DIRECTORY] [-f FILE] [-n HOSTNAME] [-r REPO] [-t TAG] [-v] {add,apply,diff,init,list,ls,remove,del,rm,save,tag} ... Manage the hamster cage. positional arguments: {add,apply,diff,init,list,ls,remove,del,rm,save,tag} sub-command help add add one or more files to the manifest apply apply files from repo to target diff print differences between target and repo init create a new manifest list (ls) list manifest entries remove (del, rm) remove one or more files from the manifest save save target files to repo tag manage tags in the manifest optional arguments: -h, --help show this help message and exit -d DIRECTORY, --directory DIRECTORY base directory of target files -f FILE, --file FILE manifest file to use -n HOSTNAME, --hostname HOSTNAME name of this host -r REPO, --repo REPO directory of file repo -t TAG, --tag TAG tags to apply\/save -v, --verbose verbose output General Options Target Directory -d \/ --directory The directory where the managed files live, default \/.","inLanguage":"en","wordCount":596,"datePublished":"0001-01-01T00:00:00","dateModified":"0001-01-01T00:00:00","image":"https:\/\/hamstercage.io\/","keywords":[""],"mainEntityOfPage":"https:\/\/hamstercage.io\/documentation\/command-reference\/","publisher":{"@type":"Organization","name":"https:\/\/hamstercage.io\/","logo":{"@type":"ImageObject","url":"https:\/\/hamstercage.io\/","height":60,"width":60}}}</script><meta property="og:title" content="Command Reference"><meta property="og:description" content="Hamstercage commands take a number of options and parameters.
usage: hamstercage [-h] [-d DIRECTORY] [-f FILE] [-n HOSTNAME] [-r REPO] [-t TAG] [-v] {add,apply,diff,init,list,ls,remove,del,rm,save,tag} ... Manage the hamster cage. positional arguments: {add,apply,diff,init,list,ls,remove,del,rm,save,tag} sub-command help add add one or more files to the manifest apply apply files from repo to target diff print differences between target and repo init create a new manifest list (ls) list manifest entries remove (del, rm) remove one or more files from the manifest save save target files to repo tag manage tags in the manifest optional arguments: -h, --help show this help message and exit -d DIRECTORY, --directory DIRECTORY base directory of target files -f FILE, --file FILE manifest file to use -n HOSTNAME, --hostname HOSTNAME name of this host -r REPO, --repo REPO directory of file repo -t TAG, --tag TAG tags to apply/save -v, --verbose verbose output General Options Target Directory -d / --directory The directory where the managed files live, default /."><meta property="og:url" content="https://hamstercage.io/documentation/command-reference/"><meta property="og:type" content="website"><meta property="og:site_name" content="Hamstercage"><meta name=twitter:title content="Command Reference"><meta name=twitter:description content="Hamstercage commands take a number of options and parameters.
usage: hamstercage [-h] [-d DIRECTORY] [-f FILE] [-n HOSTNAME] [-r REPO] [-t TAG] [-v] …"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.100.2"><link rel=alternate href=https://hamstercage.io/index.xml type=application/rss+xml title=Hamstercage><link rel=stylesheet href=https://hamstercage.io/css/katex.min.css><link rel=stylesheet href=https://hamstercage.io/fontawesome/css/all.css><link rel=stylesheet href=https://hamstercage.io/css/bootstrap.min.css><link rel=stylesheet href=https://hamstercage.io/css/main.css><link rel=stylesheet href=https://hamstercage.io/css/fonts.css><link rel=stylesheet href=https://hamstercage.io/css/syntax.css><link rel=stylesheet href=https://hamstercage.io/css/codeblock.css><link rel=stylesheet href=https://hamstercage.io/css/photoswipe.min.css><link rel=stylesheet href=https://hamstercage.io/css/photoswipe.default-skin.min.css></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://hamstercage.io/>Hamstercage</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Home href=/>Home</a></li><li><a title=Documentation href=/documentation/>Documentation</a></li><li><a title=Blog href=/posts/>Blog</a></li></ul></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><div id=header-big-imgs data-num-img=1 data-img-src-1=/img/book.jpg></div><header class="header-section has-img"><div class="intro-header big-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=page-heading><h1>Command Reference</h1></div></div></div></div><span class=img-desc style=display:inline></span></div><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=page-heading><h1>Command Reference</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>Hamstercage commands take a number of options and parameters.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>usage: hamstercage [-h] [-d DIRECTORY] [-f FILE] [-n HOSTNAME] [-r REPO] [-t TAG] [-v] {add,apply,diff,init,list,ls,remove,del,rm,save,tag} ...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Manage the hamster cage.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>positional arguments:
</span></span><span class=line><span class=cl>  {add,apply,diff,init,list,ls,remove,del,rm,save,tag}
</span></span><span class=line><span class=cl>                        sub-command help
</span></span><span class=line><span class=cl>    add                 add one or more files to the manifest
</span></span><span class=line><span class=cl>    apply               apply files from repo to target
</span></span><span class=line><span class=cl>    diff                print differences between target and repo
</span></span><span class=line><span class=cl>    init                create a new manifest
</span></span><span class=line><span class=cl>    list (ls)           list manifest entries
</span></span><span class=line><span class=cl>    remove (del, rm)    remove one or more files from the manifest
</span></span><span class=line><span class=cl>    save                save target files to repo
</span></span><span class=line><span class=cl>    tag                 manage tags in the manifest
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>optional arguments:
</span></span><span class=line><span class=cl>  -h, --help            show this help message and exit
</span></span><span class=line><span class=cl>  -d DIRECTORY, --directory DIRECTORY
</span></span><span class=line><span class=cl>                        base directory of target files
</span></span><span class=line><span class=cl>  -f FILE, --file FILE  manifest file to use
</span></span><span class=line><span class=cl>  -n HOSTNAME, --hostname HOSTNAME
</span></span><span class=line><span class=cl>                        name of this host
</span></span><span class=line><span class=cl>  -r REPO, --repo REPO  directory of file repo
</span></span><span class=line><span class=cl>  -t TAG, --tag TAG     tags to apply/save
</span></span><span class=line><span class=cl>  -v, --verbose         verbose output
</span></span></code></pre></div><h2 id=general-options>General Options</h2><h3 id=target-directory--d----directory>Target Directory <code>-d</code> / <code>--directory</code></h3><p>The directory where the managed files live, default <code>/</code>. You can set this to a different path when restoring config from a backup, or when managing a jail or container from the outside.</p><h3 id=hostname--n----hostname>Hostname <code>-n</code> / <code>--hostname</code></h3><p>The hostname of the local host. By default the value of <code>hostname(1)</code>. When applying files to the target directory, the hostname is used to obtain the default list of tags to use. Specifying this can be useful when restoring a host from backup, or when working on a container or jail.</p><h3 id=manifest-file--f----file>Manifest File <code>-f</code> / <code>--file</code></h3><p>The name of the manifest file that tracks all managed files, as well as settings for the repository. Default is <code>./hamstercage.yaml</code>.</p><h3 id=repository-base-directory--r----rep>Repository Base Directory <code>-r</code> / <code>--rep</code></h3><p>All managed files are stored under this directory. The default is the same directory the manifest file lives in.</p><h3 id=tags--t----tag>Tags <code>-t</code> / <code>--tag</code></h3><p>By default, the tags to be used are taken from the host entry in the manifest. You can override them with this parameter.</p><h3 id=verbose-output--v----verbose>Verbose output <code>-v</code> / <code>--verbose</code></h3><p>By default, Hamstercage will only print warnings or error. With this flag, progress will be reported on all operations.</p><h2 id=commands>Commands</h2><h3 id=adding-files-add>Adding Files <code>add</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage add tag file...
</span></span></code></pre></div><p>Add one or more files to the repository. You need to specify the tag the files will be added to. The files will be added to the manifest, and the contents of the files copied to the repository.</p><h3 id=applying-files-apply>Applying Files <code>apply</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage apply <span class=o>[</span>file...<span class=o>]</span>
</span></span></code></pre></div><p>Apply files from the repository to the target. Without any further options and parameters, will apply all files from the default tags for this hostname. Specify one or more tags to limit files to those in those tags, or specify filenames that should be applied.</p><p>Adding a file that is already in the manifest for the given tag is an error.</p><h3 id=determining-differences-diff>Determining Differences <code>diff</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage diff <span class=o>[</span>file...<span class=o>]</span>
</span></span></code></pre></div><p>Prints out a unified diff between all files in the repository and in the target. This allows you to preview what changed <code>apply</code> or <code>save</code> will make.</p><h3 id=initialize-a-new-repository-init>Initialize a New Repository <code>init</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage init
</span></span></code></pre></div><p>Creates a new manifest file, by default <code>./hamstercage.yaml</code>. Combine this with <code>git init</code> to create a new Hamstercage repository.</p><h3 id=list-entries-list>List Entries <code>list</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage list <span class=o>[</span>-l<span class=o>]</span>
</span></span></code></pre></div><p>Lists all entries in the manifest. When <code>-l</code> is given, will print more details on each entry.</p><h3 id=remove-files-from-repository-remove>Remove Files From Repository <code>remove</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage remove tag file...
</span></span></code></pre></div><p>Removes one or more files from the specified tag. Does not change files in the target.</p><h3 id=save-target-to-repository-save>Save Target to Repository <code>save</code></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage save <span class=o>[</span>file...<span class=o>]</span>
</span></span></code></pre></div><p>Updates the manifest entries and repository files from the target.</p><h3 id=adding-tags-tag-add>Adding Tags <code>tag add</code></h3><p>Adds a new tag to the manifest.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hamstercage tag add <span class=o>[</span>-d description<span class=o>]</span> <span class=o>[</span>file...<span class=o>]</span>
</span></span></code></pre></div></article></div></div></div><div class=page-meta></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"></ul><p class="credits text-muted">© 2022 Stefan Bethke and Hamstercage Contributors. <a href=https://github.com/halogenica/beautifulhugo>Theme Beautiful Hugo</a></p></div></div></div></footer><script src=https://hamstercage.io/js/katex.min.js></script>
<script src=https://hamstercage.io/js/auto-render.min.js></script>
<script src=https://hamstercage.io/js/jquery.min.js></script>
<script src=https://hamstercage.io/js/bootstrap.min.js></script>
<script src=https://hamstercage.io/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://hamstercage.io/js/photoswipe.min.js></script>
<script src=https://hamstercage.io/js/photoswipe-ui-default.min.js></script><script src=https://hamstercage.io/js/load-photoswipe.js></script></body></html>